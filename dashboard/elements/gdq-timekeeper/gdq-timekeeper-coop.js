import * as tslib_1 from "/bundles/gdqx18-layouts/node_modules/tslib/tslib.es6.js";
const {
  customElement,
  property
} = Polymer.decorators;
let GdqTimekeeperCoop = class GdqTimekeeperCoop extends Polymer.Element {
  calcRunnerStatus(results) {
    if (results[0]) {
      return results[0].time.formatted;
    }

    return 'Running';
  }

  calcRunnerStatusClass(results) {
    if (results[0] && !results[0].forfeit) {
      return 'finished';
    }

    return '';
  }

  calcFinishHidden(results) {
    return results[0] && !results[0].forfeit;
  }

  calcResumeHidden(results) {
    return !results[0];
  }

  calcForfeitHidden(results) {
    return results[0] && results[0].forfeit;
  }

  calcEditDisabled(results) {
    return !results[0];
  }

  finish() {
    nodecg.sendMessage('completeRunner', {
      index: this.index,
      forfeit: false
    });
  }

  forfeit() {
    nodecg.sendMessage('completeRunner', {
      index: this.index,
      forfeit: true
    });
  }

  resume() {
    nodecg.sendMessage('resumeRunner', this.index);
  }

  editTime() {
    this.dispatchEvent(new CustomEvent('edit-time', {
      bubbles: true,
      composed: true
    }));
  }

  calcConcatenatedRunners(runners) {
    let concatenatedRunners = runners[0].name;

    if (runners.length > 1) {
      concatenatedRunners = runners.slice(1).reduce((prev, curr, index, array) => {
        if (!curr || !curr.name) {
          return prev;
        }

        if (index === array.length - 1) {
          return `${prev} & ${curr.name}`;
        }

        return `${prev}, ${curr.name}`;
      }, concatenatedRunners);
    }

    return concatenatedRunners;
  }

};

tslib_1.__decorate([property({
  type: String
})], GdqTimekeeperCoop.prototype, "importPath", void 0);

tslib_1.__decorate([property({
  type: Number
})], GdqTimekeeperCoop.prototype, "index", void 0);

tslib_1.__decorate([property({
  type: Array
})], GdqTimekeeperCoop.prototype, "runners", void 0);

tslib_1.__decorate([property({
  type: Array
})], GdqTimekeeperCoop.prototype, "results", void 0);

GdqTimekeeperCoop = tslib_1.__decorate([customElement('gdq-timekeeper-coop')], GdqTimekeeperCoop);
export default GdqTimekeeperCoop;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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